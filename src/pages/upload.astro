---
/**
 * Photo Upload Page
 * 
 * Full-screen wizard for uploading new photos with metadata and location.
 * Only accessible to authenticated users (protected by auth middleware).
 */

import Layout from '@/layouts/Layout.astro';
import { UploadWizard } from '@/components/upload/UploadWizard';

// Check authentication - middleware handles redirect
const user = Astro.locals.user;
const userRole = Astro.locals.userRole;

if (!user) {
  return Astro.redirect('/login');
}
---

<Layout title="Upload Photo - PhotoSpot">
  <main class="container mx-auto min-h-screen px-4 py-8">
    <UploadWizard client:load mode="page" userRole={userRole} />
  </main>
</Layout>

